# SAGE Engine — Аудит 2025-07-30

## 1. TL;DR
Проанализирована кодовая база SAGE Engine. Выявлены проблемные места в конфигурации, архитектуре и безопасности. Основные риски связаны с динамическим исполнением кода и несогласованной документацией.

## 2. Матрица рисков
| ID | Приоритет | Описание |
|----|-----------|---------|
| R1 | P0 | Потенциальное выполнение произвольного кода через FlowScript runtime |
| R2 | P1 | Ошибки и краши при изменении размеров окна из-за несогласованного буфера |
| R3 | P2 | Отсутствие некоторых файлов из документации (engine.json) |
| R4 | P2 | Низкое покрытие тестами модулей render, resource |
| R5 | P3 | Устаревшие разделы документации и пропущенные примеры |

## 3. Сводная таблица проблем
Подробный список расположен в [issues_matrix.csv](issues_matrix.csv). Всего обнаружено 7 проблем, две из которых требуют немедленного внимания.

## 4. Предлагаемые улучшения
- Ограничить использование `exec` в FlowScript: добавить белый список команд и sandbox
- Ввести единый механизм проверки конфигурации и схему `engine.sagecfg`
- Доработать автоматическое пересоздание буфера в `gfx` при `window_resized`
- Расширить тесты, особенно для модуля render
- Актуализировать документацию и исключить ссылки на отсутствующие файлы

## 5. Диаграммы
Схема зависимостей и фаз находится в каталоге [docs/diagrams](docs/diagrams).

