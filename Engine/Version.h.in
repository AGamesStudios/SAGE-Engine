#pragma once

// SAGE Engine Version Information
// Auto-generated by CMake from Version.h.in

#define SAGE_VERSION_MAJOR @PROJECT_VERSION_MAJOR@
#define SAGE_VERSION_MINOR @PROJECT_VERSION_MINOR@
#define SAGE_VERSION_PATCH @PROJECT_VERSION_PATCH@
#define SAGE_VERSION_STRING "@PROJECT_VERSION@"
#define SAGE_VERSION_FULL "@PROJECT_VERSION@-@SAGE_VERSION_SUFFIX@"

// Build configuration
#ifdef SAGE_DEBUG
    #define SAGE_BUILD_CONFIG "Debug"
#else
    #define SAGE_BUILD_CONFIG "Release"
#endif

// Platform detection
#ifdef _WIN32
    #define SAGE_PLATFORM "Windows"
#elif defined(__linux__)
    #define SAGE_PLATFORM "Linux"
#elif defined(__APPLE__)
    #define SAGE_PLATFORM "macOS"
#else
    #define SAGE_PLATFORM "Unknown"
#endif

// Compiler detection
#ifdef _MSC_VER
    #define SAGE_COMPILER "MSVC"
    #define SAGE_COMPILER_VERSION _MSC_VER
#elif defined(__GNUC__)
    #define SAGE_COMPILER "GCC"
    #define SAGE_COMPILER_VERSION (__GNUC__ * 10000 + __GNUC_MINOR__ * 100 + __GNUC_PATCHLEVEL__)
#elif defined(__clang__)
    #define SAGE_COMPILER "Clang"
    #define SAGE_COMPILER_VERSION (__clang_major__ * 10000 + __clang_minor__ * 100 + __clang_patchlevel__)
#else
    #define SAGE_COMPILER "Unknown"
    #define SAGE_COMPILER_VERSION 0
#endif

// Build timestamp
#define SAGE_BUILD_DATE __DATE__
#define SAGE_BUILD_TIME __TIME__

// Git information (filled by CMake)
#define SAGE_GIT_COMMIT_HASH "@GIT_COMMIT_HASH@"
#define SAGE_GIT_BRANCH "@GIT_BRANCH@"

namespace SAGE {

/// @brief Get version string (e.g., "1.0.0-alpha")
inline const char* GetVersionString() {
    return SAGE_VERSION_FULL;
}

/// @brief Get major version number
inline int GetVersionMajor() {
    return SAGE_VERSION_MAJOR;
}

/// @brief Get minor version number
inline int GetVersionMinor() {
    return SAGE_VERSION_MINOR;
}

/// @brief Get patch version number
inline int GetVersionPatch() {
    return SAGE_VERSION_PATCH;
}

/// @brief Get build configuration ("Debug" or "Release")
inline const char* GetBuildConfig() {
    return SAGE_BUILD_CONFIG;
}

/// @brief Get platform name ("Windows", "Linux", "macOS")
inline const char* GetPlatform() {
    return SAGE_PLATFORM;
}

/// @brief Get compiler name and version
inline const char* GetCompiler() {
    return SAGE_COMPILER;
}

/// @brief Get build timestamp
inline const char* GetBuildDate() {
    return SAGE_BUILD_DATE " " SAGE_BUILD_TIME;
}

/// @brief Get Git commit hash
inline const char* GetGitCommit() {
    return SAGE_GIT_COMMIT_HASH;
}

/// @brief Get Git branch name
inline const char* GetGitBranch() {
    return SAGE_GIT_BRANCH;
}

/// @brief Print full version information to stdout
inline void PrintVersionInfo() {
    printf("SAGE Engine %s\n", SAGE_VERSION_FULL);
    printf("  Build: %s (%s)\n", SAGE_BUILD_CONFIG, SAGE_BUILD_DATE);
    printf("  Platform: %s\n", SAGE_PLATFORM);
    printf("  Compiler: %s\n", SAGE_COMPILER);
    printf("  Git: %s (%s)\n", SAGE_GIT_COMMIT_HASH, SAGE_GIT_BRANCH);
}

} // namespace SAGE
