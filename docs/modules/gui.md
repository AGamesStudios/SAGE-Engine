# üìò –ú–æ–¥—É–ª—å `gui`

`gui` –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –Ω–µ–∑–∞–≤–∏—Å–∏–º—É—é —Å–∏—Å—Ç–µ–º—É –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤ –ø–æ–≤–µ—Ä—Ö —Ä–µ–Ω–¥–µ—Ä–∞ SAGE. –í–∏–¥–∂–µ—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç –±–µ–∑ —Å—Ç–æ—Ä–æ–Ω–Ω–∏—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫ –∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç `gfx` –¥–ª—è –æ—Ç—Ä–∏—Å–æ–≤–∫–∏.

## –û—Å–Ω–æ–≤–Ω—ã–µ –∫–ª–∞—Å—Å—ã
- `Widget` ‚Äî –±–∞–∑–æ–≤—ã–π –≤–∏–¥–∂–µ—Ç —Å –ø–æ–ª–æ–∂–µ–Ω–∏–µ–º, —Ä–∞–∑–º–µ—Ä–∞–º–∏ –∏ —Å–æ–±—ã—Ç–∏—è–º–∏
- `GUIManager` ‚Äî –∫–æ—Ä–Ω–µ–≤–æ–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∏ –¥–∏—Å–ø–µ—Ç—á–µ—Ä —Å–æ–±—ã—Ç–∏–π
- `LinearLayout`, `HBoxLayout`, `VBoxLayout`, `GridLayout`, `AbsoluteLayout` ‚Äî —Ä–∞–∑–º–µ—â–µ–Ω–∏–µ –¥–æ—á–µ—Ä–Ω–∏—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤
- `WidgetStyle` –∏ —Ç–µ–º—ã ‚Äî –≤–∏–∑—É–∞–ª—å–Ω–æ–µ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ
- –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –≤–∏–¥–∂–µ—Ç—ã: `Label`, `Button`, `TextInput`, `Checkbox`, `Slider`, `Dropdown`

## Layout & Styling

–†–∞—Å–∫–ª–∞–¥–∫–∏ —É–ø—Ä–∞–≤–ª—è—é—Ç –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ–º –≤–∏–¥–∂–µ—Ç–æ–≤. –ü—Ä–∏–º–µ—Ä –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ–≥–æ —Ä–∞–∑–º–µ—â–µ–Ω–∏—è:
```python
from sage_engine.gui import widgets, layout

container = widgets.Button()
container.add_child(widgets.Button(width=50, height=20))
container.add_child(widgets.Button(width=50, height=20))
layout.VBoxLayout(spacing=4, auto_size=True).apply(container)
```
–¢–µ–º—ã –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –∏–∑ JSON –∏ –º–æ–≥—É—Ç –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç—å—Å—è –≤ —Ä–∞–Ω—Ç–∞–π–º–µ:
```python
from sage_engine.gui import style
style.load_theme("dark", "path/to/dark.json")
style.apply_theme(button.style, "dark")
```

## –°–æ–±—ã—Ç–∏—è
| –°–æ–±—ã—Ç–∏–µ     | –û–ø–∏—Å–∞–Ω–∏–µ               |
|-------------|-----------------------|
| `on_click`  | –ö–ª–∏–∫ –º—ã—à–∏ –ø–æ –≤–∏–¥–∂–µ—Ç—É   |
| `on_hover`  | –ù–∞–≤–µ–¥–µ–Ω–∏–µ –∫—É—Ä—Å–æ—Ä–∞      |
| `on_focus`  | –ü–æ–ª—É—á–µ–Ω–∏–µ —Ñ–æ–∫—É—Å–∞       |
| `on_change` | –ò–∑–º–µ–Ω–µ–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è     |
| `on_keypress` | –í–≤–æ–¥ —Å–∏–º–≤–æ–ª–∞         |
| `on_drag_start` | –ù–∞—á–∞–ª–æ –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏—è |
| `on_drag_move` | –ü–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏–µ        |
| `on_drag_end` | –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏—è |
| `on_drop` | –û–±—ä–µ–∫—Ç —Å–±—Ä–æ—à–µ–Ω –Ω–∞ —Ü–µ–ª—å |

## –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å FlowScript
–õ—é–±–æ–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å–æ–±—ã—Ç–∏–π –º–æ–∂–µ—Ç –≤—ã–∑—ã–≤–∞—Ç—å FlowScript-—Ñ—É–Ω–∫—Ü–∏—é. –í –æ–ø–∏—Å–∞–Ω–∏–∏ –≤–∏–¥–∂–µ—Ç–∞ —É–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –∏–º—è —Ñ—É–Ω–∫—Ü–∏–∏, –∫–æ—Ç–æ—Ä–∞—è –±—É–¥–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ –ø—Ä–∏ —Å–æ–±—ã—Ç–∏–∏.

## –¢–µ–º—ã
–í –ø–∞–ø–∫–µ `theme` –Ω–∞—Ö–æ–¥—è—Ç—Å—è –±–∞–∑–æ–≤—ã–µ —Ç–µ–º—ã: `light`, `dark`, `retro`. –í—ã –º–æ–∂–µ—Ç–µ –ø–æ–¥–∫–ª—é—á–∏—Ç—å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—É—é —Ç–µ–º—É —á–µ—Ä–µ–∑ `style.load_theme()`.

–ï—Å–ª–∏ —Ç–µ–º–∞ –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω–∞ —è–≤–Ω–æ, `GUIManager` –ø—Ä–∏–º–µ–Ω—è–µ—Ç –≤—Å—Ç—Ä–æ–µ–Ω–Ω—É—é —Ç–µ–º—É –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é. –û–Ω–∞ –∑–∞–¥–∞—ë—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π —à—Ä–∏—Ñ—Ç `sage_engine/resources/fonts/default.ttf`, –±–µ–ª—ã–π —Ü–≤–µ—Ç —Ç–µ–∫—Å—Ç–∞ –∏ –ø—Ä–æ–∑—Ä–∞—á–Ω—ã–π —Ñ–æ–Ω. –í—Å–µ –Ω–æ–≤—ã–µ –≤–∏–¥–∂–µ—Ç—ã –ø–æ–ª—É—á–∞—é—Ç —ç—Ç–∏ –∑–Ω–∞—á–µ–Ω–∏—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏. –®—Ä–∏—Ñ—Ç –æ—Å–Ω–æ–≤–∞–Ω –Ω–∞ **Public Sans** –∏ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è –ø–æ–¥ –ª–∏—Ü–µ–Ω–∑–∏–µ–π Apache¬†2.0. –§–∞–π–ª –º–æ–∂–Ω–æ –∑–∞–º–µ–Ω–∏—Ç—å —Å–≤–æ–∏–º, —Å–æ—Ö—Ä–∞–Ω–∏–≤ –∏–º—è `default.ttf`. –ï—Å–ª–∏ —à—Ä–∏—Ñ—Ç –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç, –º–µ–Ω–µ–¥–∂–µ—Ä –ø–æ–ø—Ä–æ–±—É–µ—Ç —Å–ø–∏—Å–æ–∫ `fallback_fonts`, –∑–∞—Ç–µ–º –ø–æ–¥–∫–ª—é—á–∏—Ç –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π —à—Ä–∏—Ñ—Ç –∏ –≤—ã–≤–µ–¥–µ—Ç –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –≤ –ª–æ–≥.

–í —Ä–µ–∂–∏–º–µ –æ—Ç–ª–∞–¥–∫–∏ `manager.debug = True` –ø–æ–≤–µ—Ä—Ö –≤–∏–¥–∂–µ—Ç–æ–≤ —Ä–∏—Å—É—é—Ç—Å—è –∫—Ä–∞—Å–Ω—ã–µ —Ä–∞–º–∫–∏, –∞ –≤ –ª–æ–≥ –≤—ã–≤–æ–¥–∏—Ç—Å—è —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤.

## –ò–Ω—Ç–µ—Ä–Ω–∞—Ü–∏–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è
–î–ª—è —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö –≤–∏–¥–∂–µ—Ç–æ–≤ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –∑–∞–≥—Ä—É–∑–∫–∞ —Å–ª–æ–≤–∞—Ä–µ–π –ø–µ—Ä–µ–≤–æ–¥–∞ —á–µ—Ä–µ–∑ `gui.i18n.load()`.
–¢–µ–∫—Å—Ç —Å –ø—Ä–µ—Ñ–∏–∫—Å–æ–º `@` —Ç—Ä–∞–∫—Ç—É–µ—Ç—Å—è –∫–∞–∫ –∫–ª—é—á –ø–µ—Ä–µ–≤–æ–¥–∞:
```python
from sage_engine.gui import i18n, widgets
i18n.load({"main_menu.play_button": "Play"})
btn = widgets.Button(text="@main_menu.play_button")
```

\n### Visual Effects and Advanced Styling\nWidgets may use gradient backgrounds and effects. Use `gui.animation.animate` for animated properties and `gui.drag` for drag and drop events.

## –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –≤–∏–¥–∂–µ—Ç—ã
–í—ã –º–æ–∂–µ—Ç–µ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π –∫–ª–∞—Å—Å, –Ω–∞—Å–ª–µ–¥—É—è—Å—å –æ—Ç `Widget`, –∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å –µ–≥–æ —á–µ—Ä–µ–∑ `gui.registry`:
```python
from sage_engine.gui import base, registry

class MyBar(base.Widget):
    value: float = 0.0
    def on_draw(self, gfx):
        gfx.draw_rect(self.x, self.y, int(self.width*self.value), self.height, (0,255,0,255))

registry.register_widget("MyBar", MyBar)
```

## –ü—Ä–∏–≤—è–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö (bind)
–ë–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã—Ö –≤–∏–¥–∂–µ—Ç–æ–≤ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç `bind` –¥–ª—è —Å–≤—è–∑–∏ —Å –æ–±—ä–µ–∫—Ç–æ–º:
```python
slider = widgets.Slider()
slider.bind("value", settings)
```
–ò–∑–º–µ–Ω–µ–Ω–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –æ—Ç—Ä–∞–∂–∞—é—Ç—Å—è –≤ UI –∏ –Ω–∞–æ–±–æ—Ä–æ—Ç.

## –°—Ç–∏–ª–∏ –∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
–¢–µ–º—ã –º–æ–≥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏ —É—Å–ª–æ–≤–Ω—ã–µ —Å—Ç–∏–ª–∏:
```json
{
  "$primary": "#4444AA",
  "Button": {
    "bg_color": "$primary",
    "hover_style": {"bg_color": "#6666CC"}
  }
}
```

## –û–∫–Ω–∞ –∏ –ø–∞–Ω–µ–ª–∏
`Window`, `Panel` –∏ `Popup` –ø–æ–∑–≤–æ–ª—è—é—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–µ –æ–∫–Ω–∞ –∏ –≤—Å–ø–ª—ã–≤–∞—é—â–∏–µ –ø–∞–Ω–µ–ª–∏. –û–∫–Ω–æ –º–æ–∂–Ω–æ –ø–µ—Ä–µ–º–µ—â–∞—Ç—å –º—ã—à—å—é –∑–∞ –∑–∞–≥–æ–ª–æ–≤–æ–∫, –∞ popup –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –∫–ª–∏–∫–µ –≤–Ω–µ –µ–≥–æ –æ–±–ª–∞—Å—Ç–∏:
```python
from sage_engine.gui import widgets, manager

win = widgets.Window(title="Settings", width=120, height=80)
manager.root.add_child(win)
```

## ScrollView –∏ –∏–Ω—Å–ø–µ–∫—Ç–æ—Ä
`ScrollView` –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –¥–æ—á–µ—Ä–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç—ã –≤ –ø—Ä–æ–∫—Ä—É—á–∏–≤–∞–µ–º–æ–π –æ–±–ª–∞—Å—Ç–∏. `InspectorPanel` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—ë—Ç —Ñ–æ—Ä–º—É –ø–æ –∞—Ç—Ä–∏–±—É—Ç–∞–º –æ–±—ä–µ–∫—Ç–∞ –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `bind` –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è –∑–Ω–∞—á–µ–Ω–∏–π.

## –ê–Ω–∏–º–∞—Ü–∏—è –≤–∏–¥–∂–µ—Ç–æ–≤
–î–ª—è –ø–ª–∞–≤–Ω–æ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `gui.animation.animate`. –ú–µ—Ç–æ–¥ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é –æ—Ç–º–µ–Ω—ã –∏ –º–æ–∂–µ—Ç –ø—Ä–∏–Ω—è—Ç—å `on_finish`:

```python
cancel = gui.animation.animate(button, "opacity", 0, 1, 200, "ease-in", on_finish=lambda: print("done"))
```
–ß—Ç–æ–±—ã –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∞–Ω–∏–º–∞—Ü–∏—é –¥–æ—Å—Ä–æ—á–Ω–æ, –≤—ã–∑–æ–≤–∏—Ç–µ `cancel()`.

## –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –≤—Ä–µ–º–µ–Ω–∏
–ê–Ω–∏–º–∞—Ü–∏–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –º–æ–¥—É–ª—å `scheduler.time`. –û–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è —á–µ—Ä–µ–∑ `sage_engine.auto_setup()`. –ï—Å–ª–∏ –≤—ã –∑–∞–ø—É—Å–∫–∞–µ—Ç–µ –ø–æ–¥—Å–∏—Å—Ç–µ–º—ã –≤—Ä—É—á–Ω—É—é, –≤—ã–∑–æ–≤–∏—Ç–µ `scheduler.time.init()` –¥–æ —Å–æ–∑–¥–∞–Ω–∏—è –∞–Ω–∏–º–∞—Ü–∏–π.
